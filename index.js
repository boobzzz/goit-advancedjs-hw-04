import{a as x,i as C,S as G}from"./assets/vendor-mj6yH6lW.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const I="49648507-d50f841642650241279dda9b6",R="https://pixabay.com/api/",O=15;let E=1,L="";async function A(e,{onStart:n,onSuccess:o,onError:s,onFinally:t}){n(),L=e,await S({onSuccess:o,onError:s,onFinally:t})}async function M({onStart:e,onSuccess:n,onError:o,onFinally:s}){e(),E++,await S({onSuccess:n,onError:o,onFinally:s})}async function S({onSuccess:e,onError:n,onFinally:o}){try{const s=await x.get(R,{params:{key:I,q:encodeURIComponent(L),per_page:O,page:E}});e(s.data.hits)}catch{n()}finally{o()}}const B={no_query:"Please, enter your search query",not_found:"Sorry, no images matching search query",no_more:"Sorry, no more images to load",failed:"Sorry, images failed to fetch"};function l(e){C.error({message:B[e]})}const g=document.querySelector(".form"),c=document.querySelector(".gallery"),p=document.querySelector(".load-more"),F=["Likes","Views","Comments","Downloads"],d=[];function T(e){if(D(),e.length===0){l("not_found");return}d.push(...e),d.forEach(n=>{c.append(w(n))}),k(),q()}function U(e){if(e.length===0){l("no_more"),b();return}d.push(...e),d.forEach(n=>{c.append(w(n))})}function k(){c.style.display="grid"}function N(){c.style.display="none"}function D(){for(;c.lastElementChild;)c.removeChild(c.lastElementChild)}function w(e){const{webformatURL:n,largeImageURL:o,tags:s}=e,t=document.createElement("li");t.classList.add("gallery-cart");const r=document.createElement("a");r.classList.add("gallery-link"),r.href=o;const a=document.createElement("img");a.classList.add("gallery-image"),a.src=n,a.title=s;const u=document.createElement("div");return u.classList.add("gallery-details"),F.forEach(h=>{const i=document.createElement("div");i.classList.add("detail");const f=document.createElement("p");f.classList.add("detail-title");const m=document.createElement("p");m.classList.add("detail-desc"),f.innerText=h,m.innerText=e[h.toLowerCase()],i.append(f),i.append(m),u.append(i)}),r.append(a),r.append(u),t.append(r),t}function q(){p.style.display="block"}function b(){p.style.display="none"}const _=document.querySelector(".loader");function P(){_.style.display="flex"}function v(){_.style.display="none"}const y=new G(".gallery-link");g.addEventListener("submit",e=>{e.preventDefault();const n=new FormData(g).get("query");if(!n){l("no_query");return}A(n,{onStart:()=>{N(),P()},onSuccess:o=>{T(o),y.refresh()},onError:()=>l("failed"),onFinally:v})});c.addEventListener("click",()=>{y.open()});p.addEventListener("click",()=>{M({onStart:()=>{b(),P()},onSuccess:e=>{U(e),y.refresh()},onError:()=>l("failed"),onFinally:()=>{v(),q()}})});
//# sourceMappingURL=index.js.map
